<measure>
  <schema_version>3.0</schema_version>
  <name>residential_hot_water_solar</name>
  <uid>b969f216-f3c0-4301-9b85-34ce2b45f551</uid>
  <version_id>1ebfc67b-49d3-475c-83c1-ba64be0d52fd</version_id>
  <version_modified>20180707T204056Z</version_modified>
  <xml_checksum>F33F6E26</xml_checksum>
  <class_name>ResidentialHotWaterSolar</class_name>
  <display_name>Set Residential Solar Water Heating</display_name>
  <description>Adds (or replaces) residential solar water heating to the model based on user inputs. For both single-family detached and multifamily buildings, the added storage tank and collector plate provide pre-heated water to the (existing) conventional water heater. See https://github.com/NREL/OpenStudio-BEopt#workflows for supported workflows using this measure.</description>
  <modeler_description>Any supply or demand components, including collector plate surface, are removed along with corresponding plant loop. A stratified storage tank demand branch, flat plate collector supply branch, and constant speed pump are added to a new plant loop. The existing water heater is added to the outlet node of the storage tank. A differential thermostat, with collector plate outlet as the hot node and storage tank outlet as the cold node, represents the availability manager on the plant loop.</modeler_description>
  <arguments>
    <argument>
      <name>collector_area</name>
      <display_name>Collector Area</display_name>
      <description>Area of the collector array for each unit of the building.</description>
      <type>Double</type>
      <units>ft^2/unit</units>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>40</default_value>
    </argument>
    <argument>
      <name>frta</name>
      <display_name>FRta</display_name>
      <description>Optical gain coefficient in Hottel-Willier-Bliss (HWB) equation.</description>
      <type>Double</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0.77</default_value>
    </argument>
    <argument>
      <name>frul</name>
      <display_name>FRUL</display_name>
      <description>Thermal loss coefficient in the Hottel-Willier-Bliss (HWB) equation.</description>
      <type>Double</type>
      <units>Btu/hr-ft^2-R</units>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0.793</default_value>
    </argument>
    <argument>
      <name>iam</name>
      <display_name>IAM</display_name>
      <description>The incident angle modifier coefficient.</description>
      <type>Double</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0.1</default_value>
    </argument>
    <argument>
      <name>storage_vol</name>
      <display_name>Tank Storage Volume</display_name>
      <description>The volume of the solar storage tank. If set to 'auto', the tank storage volume will be 1.5 gal for every sqft of collector area.</description>
      <type>String</type>
      <units>gal</units>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>auto</default_value>
    </argument>
    <argument>
      <name>tank_r</name>
      <display_name>Tank R-Value</display_name>
      <description>The insulation level of the solar storage tank.</description>
      <type>Double</type>
      <units>hr-ft^2-R/Btu</units>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>10</default_value>
    </argument>
    <argument>
      <name>fluid_type</name>
      <display_name>Fluid Type</display_name>
      <description>The solar system's heat transfer fluid.</description>
      <type>Choice</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>propylene-glycol</default_value>
      <choices>
        <choice>
          <value>propylene-glycol</value>
          <display_name>propylene-glycol</display_name>
        </choice>
        <choice>
          <value>water</value>
          <display_name>water</display_name>
        </choice>
      </choices>
    </argument>
    <argument>
      <name>heat_ex_eff</name>
      <display_name>Heat Exchanger Effectiveness</display_name>
      <description>Heat exchanger effectiveness, where the effectiveness e, is defined as e = (Tcold-out - Tcold-in) / (Thot-in - Tcold-in).</description>
      <type>Double</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0.7</default_value>
    </argument>
    <argument>
      <name>pump_power</name>
      <display_name>Pump Power</display_name>
      <description>Total pump energy consumption in Watts per sqft of collector area.</description>
      <type>Double</type>
      <units>W/ft^2</units>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>0.8</default_value>
    </argument>
    <argument>
      <name>azimuth_type</name>
      <display_name>Azimuth Type</display_name>
      <description>Relative azimuth angle is measured clockwise from the front of the house. Absolute azimuth angle is measured clockwise from due south.</description>
      <type>Choice</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>relative</default_value>
      <choices>
        <choice>
          <value>relative</value>
          <display_name>relative</display_name>
        </choice>
        <choice>
          <value>absolute</value>
          <display_name>absolute</display_name>
        </choice>
      </choices>
    </argument>
    <argument>
      <name>azimuth</name>
      <display_name>Azimuth</display_name>
      <description>The azimuth angle is measured clockwise.</description>
      <type>Double</type>
      <units>degrees</units>
      <required>false</required>
      <model_dependent>false</model_dependent>
      <default_value>180</default_value>
    </argument>
    <argument>
      <name>tilt_type</name>
      <display_name>Tilt Type</display_name>
      <description>Type of tilt angle referenced.</description>
      <type>Choice</type>
      <required>true</required>
      <model_dependent>false</model_dependent>
      <default_value>pitch</default_value>
      <choices>
        <choice>
          <value>pitch</value>
          <display_name>pitch</display_name>
        </choice>
        <choice>
          <value>absolute</value>
          <display_name>absolute</display_name>
        </choice>
        <choice>
          <value>latitude</value>
          <display_name>latitude</display_name>
        </choice>
      </choices>
    </argument>
    <argument>
      <name>tilt</name>
      <display_name>Tilt</display_name>
      <description>Angle of the tilt.</description>
      <type>Double</type>
      <units>degrees</units>
      <required>false</required>
      <model_dependent>false</model_dependent>
      <default_value>0</default_value>
    </argument>
  </arguments>
  <outputs/>
  <provenances/>
  <tags>
    <tag>Service Water Heating.Water Heating</tag>
  </tags>
  <attributes>
    <attribute>
      <name>Measure Type</name>
      <value>ModelMeasure</value>
      <datatype>string</datatype>
    </attribute>
  </attributes>
  <files>
    <file>
      <filename>USA_CO_Denver_Intl_AP_725650_TMY3.epw</filename>
      <filetype>epw</filetype>
      <usage_type>test</usage_type>
      <checksum>E23378AA</checksum>
    </file>
    <file>
      <filename>USA_CO_Denver_Intl_AP_725650_TMY3.ddy</filename>
      <filetype>ddy</filetype>
      <usage_type>test</usage_type>
      <checksum>FB253570</checksum>
    </file>
    <file>
      <version>
        <software_program>OpenStudio</software_program>
        <identifier>2.1.0</identifier>
        <min_compatible>2.1.2</min_compatible>
      </version>
      <filename>measure.rb</filename>
      <filetype>rb</filetype>
      <usage_type>script</usage_type>
      <checksum>9E6F8E49</checksum>
    </file>
    <file>
      <filename>psychrometrics.rb</filename>
      <filetype>rb</filetype>
      <usage_type>resource</usage_type>
      <checksum>208441EA</checksum>
    </file>
    <file>
      <filename>residential_hot_water_solar_test.rb</filename>
      <filetype>rb</filetype>
      <usage_type>test</usage_type>
      <checksum>5A75901F</checksum>
    </file>
    <file>
      <filename>unit_conversions.rb</filename>
      <filetype>rb</filetype>
      <usage_type>resource</usage_type>
      <checksum>91D17463</checksum>
    </file>
    <file>
      <filename>schedules.rb</filename>
      <filetype>rb</filetype>
      <usage_type>resource</usage_type>
      <checksum>1C22DD2A</checksum>
    </file>
    <file>
      <filename>geometry.rb</filename>
      <filetype>rb</filetype>
      <usage_type>resource</usage_type>
      <checksum>7D6EC9CC</checksum>
    </file>
    <file>
      <filename>util.rb</filename>
      <filetype>rb</filetype>
      <usage_type>resource</usage_type>
      <checksum>4516079E</checksum>
    </file>
    <file>
      <filename>weather.rb</filename>
      <filetype>rb</filetype>
      <usage_type>resource</usage_type>
      <checksum>D9E029B9</checksum>
    </file>
    <file>
      <filename>waterheater.rb</filename>
      <filetype>rb</filetype>
      <usage_type>resource</usage_type>
      <checksum>9E2A2A78</checksum>
    </file>
    <file>
      <filename>hvac.rb</filename>
      <filetype>rb</filetype>
      <usage_type>resource</usage_type>
      <checksum>1F3DDDE7</checksum>
    </file>
    <file>
      <filename>materials.rb</filename>
      <filetype>rb</filetype>
      <usage_type>resource</usage_type>
      <checksum>82D32FEE</checksum>
    </file>
    <file>
      <filename>constants.rb</filename>
      <filetype>rb</filetype>
      <usage_type>resource</usage_type>
      <checksum>3BCB1148</checksum>
    </file>
    <file>
      <filename>SFD_2000sqft_2story_FB_GRG_UA_3Beds_2Baths_Denver.osm</filename>
      <filetype>osm</filetype>
      <usage_type>test</usage_type>
      <checksum>FC82B7F3</checksum>
    </file>
    <file>
      <filename>SFD_2000sqft_2story_FB_GRG_UA_3Beds_2Baths_Denver_East_GasWHTank.osm</filename>
      <filetype>osm</filetype>
      <usage_type>test</usage_type>
      <checksum>F06C8FCB</checksum>
    </file>
    <file>
      <filename>SFD_2000sqft_2story_FB_GRG_UA_3Beds_2Baths_Denver_HPWH.osm</filename>
      <filetype>osm</filetype>
      <usage_type>test</usage_type>
      <checksum>88576796</checksum>
    </file>
    <file>
      <filename>SFD_2000sqft_2story_FB_GRG_UA_3Beds_2Baths_Denver_West_GasWHTank.osm</filename>
      <filetype>osm</filetype>
      <usage_type>test</usage_type>
      <checksum>5536B333</checksum>
    </file>
    <file>
      <filename>SFD_2000sqft_2story_FB_GRG_UA_3Beds_2Baths_Denver_South_GasWHTank.osm</filename>
      <filetype>osm</filetype>
      <usage_type>test</usage_type>
      <checksum>03A6B745</checksum>
    </file>
    <file>
      <filename>SFD_2000sqft_2story_FB_GRG_UA_3Beds_2Baths_Denver_WHTank.osm</filename>
      <filetype>osm</filetype>
      <usage_type>test</usage_type>
      <checksum>2AD318FD</checksum>
    </file>
    <file>
      <filename>SFD_2000sqft_2story_FB_GRG_UA_3Beds_2Baths_Denver_WHTankless.osm</filename>
      <filetype>osm</filetype>
      <usage_type>test</usage_type>
      <checksum>D928E1F9</checksum>
    </file>
    <file>
      <filename>SFA_4units_1story_FB_UA_3Beds_2Baths_Denver_WHTank.osm</filename>
      <filetype>osm</filetype>
      <usage_type>test</usage_type>
      <checksum>0FDC53F5</checksum>
    </file>
    <file>
      <filename>MF_8units_1story_SL_3Beds_2Baths_Denver_WHTank.osm</filename>
      <filetype>osm</filetype>
      <usage_type>test</usage_type>
      <checksum>E359DE10</checksum>
    </file>
  </files>
</measure>
